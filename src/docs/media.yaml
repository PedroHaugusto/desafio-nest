/media:
  post:
    summary: Adiciona um novo item de mídia
    description: Adiciona um novo item (filme ou série) ao catálogo.
    tags:
      - Media
    requestBody:
      required: true
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/MediaInput'
    responses:
      '201':
        description: O objeto da mídia recém-criada, incluindo um id único gerado pelo sistema.
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Media'
      '400':
        description: Dados inválidos
  get:
    summary: Lista todos os itens de mídia disponíveis no catálogo
    description: Retorna um array com todos os objetos de mídia cadastrados.
    tags:
      - Media
    responses:
      '200':
        description: Um array com todos os objetos de mídia.
        content:
          application/json:
            schema:
              type: array
              items:
                $ref: '#/components/schemas/Media'
/media/{id}:
  get:
    summary: Busca um item de mídia específico pelo seu id
    description: Retorna o objeto da mídia correspondente ao id informado.
    tags:
      - Media
    parameters:
      - name: id
        in: path
        required: true
        schema:
          type: string
        description: ID da mídia
    responses:
      '200':
        description: O objeto da mídia correspondente.
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Media'
      '404':
        description: Mídia não encontrada
components:
  schemas:
    MediaInput:
      type: object
      required:
        - title
        - description
        - type
        - releaseYear
        - genre
      properties:
        title:
          type: string
        description:
          type: string
        type:
          type: string
          enum: [movie, series]
        releaseYear:
          type: integer
        genre:
          type: string
      example:
        title: "Matrix Genérica"
        description: "Um dev descobre que o mundo é uma simulação e precisa debugá-lo."
        type: "movie"
        releaseYear: 2025
        genre: "Ficção Científica"
    Media:
      allOf:
        - $ref: '#/components/schemas/MediaInput'
        - type: object
          properties:
            id:
              type: string